<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl"
      crossorigin="anonymous"
    />
    <style>
      .box {
        cursor: pointer;
      }
      .box:hover {
        opacity: 50%;
      }
      .code {
        font-family: monospace;
        font-size: large;
      }
      .tab {
        margin-left: 40px;
      }
      .doubleTab {
        margin-left: 80px;
      }
      dt {
        font-size: x-large;
      }
      #footer {
        bottom: 0;
        right: 0;
        left: 0;
        position: fixed;
        margin-bottom: 0;
      }
    </style>
    <title>Express Framework</title>
  </head>

 <!--Navbar from bootstrap-->
 <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
  <div class="container-fluid">
    <a class="navbar-brand" href="/">Node.js</a>
    <button
      class="navbar-toggler"
      type="button"
      data-bs-toggle="collapse"
      data-bs-target="#navbarNavDropdown"
      aria-controls="navbarNavDropdown"
      aria-expanded="false"
      aria-label="Toggle navigation"
    >
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNavDropdown">
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link active" aria-current="page" href="/">Home</a>
        </li>
        <li class="nav-item dropdown">
          <a
            class="nav-link dropdown-toggle"
            href="#"
            id="navbarDropdownMenuLink"
            role="button"
            data-bs-toggle="dropdown"
            aria-expanded="false"
          >
            Dropdown Subjects
          </a>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
            <li><a class="dropdown-item" href="/express">Express</a></li>
            <li><a class="dropdown-item" href="/obj_variables">Datatypes</a></li>
            <li><a class="dropdown-item" href="/functions_loops">Functions & Loops</a></li>
            <li><a class="dropdown-item" href="/terminal">Terminal Commands</a></li>
          </ul>
        </li>
      </ul>
    </div>
  </div>
</nav>

<!--Jumbotron for underneath the navbar from bootstrap-->
<div
  class="jumbotron jumbotron-fluid"
  style="background-color: rgb(233, 233, 233)"
>
  <div class="container">
    <h1 class="display-3">Node.js</h1>
    <p class="lead">What i've learned so far <span style="font-style: italic;"> - updated continuously</span></p>
  </div>
</div>

  <body>
    <main role="main" class="container" style="padding-top: 5rem; padding-bottom: 5rem;">
      <div class="text-light p-5 bg-dark rounded mb-4">
        <h1>Express Framework</h1>
        <p>
          Express is a minimal and flexible Node.js web application framework.
          With Express, creating a robust API is quick and easy. <br>
          This is a guide to set up a new Express API from the bottom, along with some basic HTTP API CRUD.
        </p>
        <dt>Getting Started</dt>
        <dl>First off you want to make a new directory to house your Express API. This can be done manually or by the terminal command:
          <p class="code">mkdir "name of directory without quoatation marks"</p>
        </dl>
        <dt>Step Two</dt>
        <dl>Here you want to create a file in the directory called package.json that is going to contain your dependencies amongst other things. <br>
        Then you'll run the command npm install, which will install your node modules. <br>
        In this file you'll set the express dependency, this can be done by the command npm install express but also it can be done manually like this:
      </dl> 
        <p class="code" style="margin-top: 0;">{ <br>
          <p class="code" style="margin-left: 1.5rem; margin-bottom: 0; margin-top: 0;">"dependencies": { <br></p>
              <p class="code" style="margin-left: 3.5rem; margin-top: 0;"> "express": "^4.17.1" }</p>
      <p class="code">}</p>
      </p>
      <dl>"^4.17.1" is the version of the Express framework & "^" means newest.</dl>
      <dt>Step Three</dt>
      <dl>Next off we want to make a new file called app.js which would contain our HTTP requests and serve our HTML pages. <br>
        In the file we will start off be "importing" the Express framework which in JavaScript is require. we will assign it to a variable so we can use it if needed. <br> 
        Starting off with using for the app variable so we can call our HTTP requests on the app variable and use the Express framework.
      </dl>
      <p class="code">
        const express = require("express"); <br>
        const app = express(); <br>
      <br> let path = __dirname + '/public/'; <br>
        const port = process.env.PORT || 8080;  
      </p>
      <dl>Below the two first lines of code, we have a variable "path" containing the root path so we can use that in the HTTP GET requests to serve out HTML files,<br>
        by simply adding the remaining path for the given HTML file. "__dirname" retrieves that root path. <br>
        and below we set a vairable port to run on the process environment port number and if none exists, it will run on port number 8080.</dl>
      <dt>Step Four</dt>
      <dl>Here we add at the bottom of the file, an listen method on the app, to start the server and listen on port 8080 for connections. Given the port number is 8080.</dl>
      <p class="code">
        app.listen(port, (error) => { <br>
         <span class="tab">if (error) {</span> <br>
             <span class="doubleTab">console.log(error);</span> <br>
         <span class="tab">} else {</span> <br>
             <span class="doubleTab">console.log("This server is running on port: " + Number(port));</span> <br>
          <span class="tab">}</span> <br>
      });
      </p>
      <dl>It takes in the port variable, and has an if else statement to log an error if such would occur. <br>
         And if not it will log what server it is running on and parse it to a Number instead off String.</dl>
      <dt>Step Five</dt>
      <dl>Now you can start implementing HTTP requests for your Express API.</dl>
      <ul>
        <li>GET - Would respond with all in a list of people</li>
        <li>GET/id - Would respond with 1 person by given id</li>
        <li>POST - Would respond with new person with outgenerated id in most cases</li>
        <li>PATCH/id - Would update part of a person by id</li>
        <li>PUT/id - Would update a whole person by id</li>
        <li>DELETE/id - Would delete a person by id</li>
      </ul>
      <dl>Example of the scopes without the code implementet for the behaviour.</dl>
      <p class="code">
        app.get("/person", (req, res) => { <br>
          <span class="tab">res.send();</span> <br>
      }); <br> <br>
      
      app.get("/person/:id", (req, res) => { <br>
          <span class="tab">res.send();</span> <br>
      }); <br> <br>
      
      app.post("/person", (req, res) => { <br>
        <span class="tab">res.send();</span> <br>
      }); <br> <br>
      
      app.patch("/person/:id", (req, res) => { <br>
        <span class="tab">res.send();</span> <br>
      }); <br> <br>
      
      app.delete("/person/:id", (req, res) => { <br>
        <span class="tab">res.send();</span> <br>
      });
      </p>
      <dt>Step Six</dt>
      <dl>Here we will go over how to serve an HTML site shortly. <br> In fact, heres the code for serving this exact HTML site:</dl>
      <p class="code">
        app.get("/express", (req, res) => { <br>
          <span class="tab">res.sendFile(path + 'express.html');</span> <br>
      });
      </p>
      <dl>So when you add /express to the root URL, it will serve this HTML site "express.HTML"</dl>
      </div>
    </main>

    <!-- Bootstrap footer -->
    <footer class="bg-dark text-center text-white" id="footer">  
      <div class="text-center p-3" style="background-color: rgba(0, 0, 0, 0.2);">
        Â© 2021 Copyright: Sebastian Wulff Rasmussen - KEA
        <a style="cursor: pointer; padding-left: 5px;" title="Check out my Linkedin!" onclick="location.href='https://www.linkedin.com/in/sebastian-wulff-rasmussen/'" >
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-linkedin" viewBox="0 0 16 16"> 
            <path d="M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854V1.146zm4.943 12.248V6.169H2.542v7.225h2.401zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248-.822 0-1.359.54-1.359 1.248 0 .694.521 1.248 1.327 1.248h.016zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016a5.54 5.54 0 0 1 .016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225h2.4z"/>
          </svg>
        </a>
      </div>
    </footer>

    <!-- Bootsrap script bundle-->
    <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0"
    crossorigin="anonymous"
  ></script>

  </body>
</html>
